# 工具详情接口

## 基本信息

- **接口路径**: `/api/tool/detail/{id}`
- **请求方式**: GET
- **接口描述**: 获取工具的详细信息，包括基本信息、主要特点、应用场景、技术规格、价格方案及购买建议

## 请求参数

### 路径参数

| 参数名 | 类型 | 必填 | 描述   |
| ------ | ---- | ---- | ------ |
| id     | long | 是   | 工具ID |

## 响应数据

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "basicInfo": {
      "id": 1,
      "name": "ChatGPT",
      "categoryId": 1,
      "categoryName": "AI工具",
      "subcategoryId": 2,
      "subcategoryName": "智能助手",
      "logo": "https://example.com/logo.png",
      "websiteUrl": "https://chat.openai.com",
      "shortDescription": "OpenAI开发的强大AI对话模型，能够理解和生成类人文本，支持各种复杂任务。",
      "fullDescription": "详细描述...",
      "priceType": 3,
      "priceTypeText": "部分免费",
      "isNew": 1,
      "developer": "OpenAI",
      "developerInfo": "OpenAI是一家领先的人工智能研究实验室，专注于开发安全、通用的人工智能系统，致力于确保AI技术惠及全人类。",
      "developerUrl": "https://openai.com",
      "viewCount": 12500,
      "favoriteCount": 3200,
      "heat": 25600,
      "heatDesc": "25.6k热度",
      "heatLevel": 3,
      "updateTime": "2023-11-15",
      "platforms": ["Web", "iOS", "Android"]
    },
    "coreFeatures": [
      {"title": "自然语言对话", "featureGroup": 1, "sortOrder": 1},
      {"title": "上下文理解", "featureGroup": 1, "sortOrder": 2},
      {"title": "内容创作与编辑", "featureGroup": 2, "sortOrder": 3},
      {"title": "定制化回答", "featureGroup": 2, "sortOrder": 4},
      {"title": "多种语言支持", "featureGroup": 3, "sortOrder": 5},
      {"title": "代码编写与调试", "featureGroup": 3, "sortOrder": 6},
      {"title": "信息提取与总结", "featureGroup": 4, "sortOrder": 7},
      {"title": "多回合对话", "featureGroup": 4, "sortOrder": 8}
    ],
    "useCases": [
      {"title": "学习辅助与解答", "sortOrder": 1},
      {"title": "内容创作与编辑", "sortOrder": 2},
      {"title": "编程与技术支持", "sortOrder": 3},
      {"title": "语言翻译与学习", "sortOrder": 4},
      {"title": "创意头脑风暴", "sortOrder": 5},
      {"title": "日常生活助手", "sortOrder": 6}
    ],
    "techSpecs": [
      {"specName": "API访问", "specValue": "可通过OpenAI API接入", "sortOrder": 1},
      {"specName": "模型版本", "specValue": "GPT-4 / GPT-3.5", "sortOrder": 2},
      {"specName": "上下文长度", "specValue": "最多支持8K-32K tokens", "sortOrder": 3},
      {"specName": "支持语言", "specValue": "100+种语言", "sortOrder": 4}
    ],
    "pricePlans": [
      {
        "id": 1,
        "planName": "免费版",
        "planCode": "free",
        "price": 0,
        "pricePeriod": null,
        "customPeriod": null,
        "description": "适合初次体验的用户",
        "features": [
          {"featureTitle": "基本对话功能", "featureDescription": "支持常规文本对话", "isIncluded": 1, "sortOrder": 1},
          {"featureTitle": "访问GPT-3.5模型", "featureDescription": "使用基础模型", "isIncluded": 1, "sortOrder": 2},
          {"featureTitle": "标准响应速度", "featureDescription": "普通处理速度", "isIncluded": 1, "sortOrder": 3},
          {"featureTitle": "使用量限制", "featureDescription": "每日请求次数有限", "isIncluded": 1, "sortOrder": 4}
        ],
        "sortOrder": 1
      },
      {
        "id": 2,
        "planName": "Plus版",
        "planCode": "plus",
        "price": 20.00,
        "pricePeriod": 2,
        "customPeriod": "每月",
        "description": "适合需要高级功能的个人用户",
        "features": [
          {"featureTitle": "优先访问新功能", "featureDescription": "率先体验最新功能", "isIncluded": 1, "sortOrder": 1},
          {"featureTitle": "更快的响应速度", "featureDescription": "优先处理请求", "isIncluded": 1, "sortOrder": 2},
          {"featureTitle": "使用高级GPT-4模型", "featureDescription": "访问最先进的AI模型", "isIncluded": 1, "sortOrder": 3},
          {"featureTitle": "使用量上限更高", "featureDescription": "更多的每日请求次数", "isIncluded": 1, "sortOrder": 4},
          {"featureTitle": "高峰期优先使用权", "featureDescription": "高峰期无需排队", "isIncluded": 1, "sortOrder": 5}
        ],
        "sortOrder": 2
      },
      {
        "id": 3,
        "planName": "企业版",
        "planCode": "enterprise",
        "price": null,
        "pricePeriod": 4,
        "customPeriod": "定制",
        "description": "适合需要定制化服务的企业",
        "features": [
          {"featureTitle": "专属部署选项", "featureDescription": "企业私有部署", "isIncluded": 1, "sortOrder": 1},
          {"featureTitle": "增强的数据隐私", "featureDescription": "更严格的数据保护", "isIncluded": 1, "sortOrder": 2},
          {"featureTitle": "专属客户支持", "featureDescription": "一对一专业支持", "isIncluded": 1, "sortOrder": 3},
          {"featureTitle": "API访问扩展", "featureDescription": "更灵活的API权限", "isIncluded": 1, "sortOrder": 4},
          {"featureTitle": "自定义功能开发", "featureDescription": "按需定制功能", "isIncluded": 1, "sortOrder": 5}
        ],
        "sortOrder": 3
      }
    ],
    "planComparison": [
      {"comparisonItem": "模型访问", "freeValue": "仅GPT-3.5", "paidValue": "GPT-3.5和GPT-4", "enterpriseValue": "自定义模型", "sortOrder": 1},
      {"comparisonItem": "响应速度", "freeValue": "标准", "paidValue": "更快（优先处理）", "enterpriseValue": "最高优先级", "sortOrder": 2},
      {"comparisonItem": "使用限制", "freeValue": "较低额度", "paidValue": "高额度", "enterpriseValue": "定制额度", "sortOrder": 3},
      {"comparisonItem": "功能访问", "freeValue": "基础功能", "paidValue": "全部功能", "enterpriseValue": "全部+定制功能", "sortOrder": 4},
      {"comparisonItem": "客户支持", "freeValue": "社区支持", "paidValue": "标准支持", "enterpriseValue": "专属支持团队", "sortOrder": 5}
    ],
    "purchaseSuggestions": [
      {
        "userType": "适合免费版的用户",
        "suggestionPoints": [
          "偶尔使用，不需要高级功能",
          "主要用于简单问答和基础任务",
          "对响应速度没有特别要求",
          "想先体验基本功能"
        ],
        "sortOrder": 1
      },
      {
        "userType": "适合Plus版的用户",
        "suggestionPoints": [
          "频繁使用，需要更强大的模型",
          "对响应速度有较高要求",
          "需要在高峰期稳定使用",
          "希望优先体验新功能",
          "处理复杂任务和长对话"
        ],
        "sortOrder": 2
      },
      {
        "userType": "适合企业版的用户",
        "suggestionPoints": [
          "需要团队协作功能",
          "要求更高的数据安全性",
          "需要定制化功能和支持",
          "大规模商业应用"
        ],
        "sortOrder": 3
      }
    ]
  },
  "success": true,
  "timestamp": 1699627458901
}
```

## 响应字段说明

### 公共字段

| 字段名    | 类型    | 描述                   |
| --------- | ------- | ---------------------- |
| code      | int     | 状态码                 |
| msg       | string  | 状态信息               |
| success   | boolean | 请求是否成功           |
| timestamp | long    | 服务器响应时间戳(毫秒) |
| data      | object  | 响应数据               |

### 基本信息 (basicInfo)

| 字段名           | 类型   | 描述                                |
| ---------------- | ------ | ----------------------------------- |
| id               | long   | 工具ID                              |
| name             | string | 工具名称                            |
| categoryId       | int    | 主分类ID                            |
| categoryName     | string | 主分类名称                          |
| subcategoryId    | long   | 子分类ID                            |
| subcategoryName  | string | 子分类名称                          |
| logo             | string | 工具图标URL                         |
| websiteUrl       | string | 官网URL                             |
| shortDescription | string | 简短描述                            |
| fullDescription  | string | 完整描述                            |
| priceType        | int    | 价格类型: 1.免费 2.付费 3.部分免费  |
| priceTypeText    | string | 价格类型的文本描述                  |
| isNew            | int    | 是否新上线: 0.否 1.是               |
| developer        | string | 开发者/公司名称                     |
| developerInfo    | string | 开发者/公司信息                     |
| developerUrl     | string | 开发者/公司官网URL                  |
| viewCount        | long   | 查看次数                            |
| favoriteCount    | long   | 收藏次数                            |
| heat             | int    | 热度值                              |
| heatDesc         | string | 热度描述                            |
| heatLevel        | int    | 热度等级                            |
| updateTime       | string | 更新时间                            |
| platforms        | array  | 支持的平台列表                      |

### 核心特点 (coreFeatures)

| 字段名      | 类型   | 描述                                |
| ----------- | ------ | ----------------------------------- |
| title       | string | 特点标题                            |
| featureGroup | int    | 特点分组(1=左列显示，2=右列显示)   |
| sortOrder   | int    | 排序序号(顺序:1-4,最多一列4个)     |

### 应用场景 (useCases)

| 字段名    | 类型   | 描述      |
| --------- | ------ | --------- |
| title     | string | 场景标题  |
| sortOrder | int    | 排序序号  |

### 技术规格 (techSpecs)

| 字段名    | 类型   | 描述      |
| --------- | ------ | --------- |
| specName  | string | 规格名称  |
| specValue | string | 规格值    |
| sortOrder | int    | 排序序号  |

### 价格计划 (pricePlans)

| 字段名       | 类型    | 描述                                      |
| ------------ | ------- | ----------------------------------------- |
| id           | long    | 计划ID                                    |
| planName     | string  | 计划名称                                  |
| planCode     | string  | 计划代码                                  |
| price        | decimal | 价格金额                                  |
| pricePeriod  | int     | 价格周期: 1.一次性 2.月付 3.年付 4.自定义 |
| customPeriod | string  | 自定义周期描述                            |
| description  | string  | 版本描述                                  |
| features     | array   | 功能特性列表                              |
| sortOrder    | int     | 排序序号                                  |

### 功能特性 (features)

| 字段名             | 类型   | 描述           |
| ------------------ | ------ | -------------- |
| featureTitle       | string | 功能标题       |
| featureDescription | string | 功能描述       |
| isIncluded         | int    | 是否包含该功能 |
| sortOrder          | int    | 排序序号       |

### 计划对比 (planComparison)

| 字段名          | 类型   | 描述         |
| --------------- | ------ | ------------ |
| comparisonItem  | string | 对比项目名称 |
| freeValue       | string | 免费版值     |
| paidValue       | string | 付费版值     |
| enterpriseValue | string | 企业版值     |
| sortOrder       | int    | 排序序号     |

### 购买建议 (purchaseSuggestions)

| 字段名           | 类型  | 描述         |
| ---------------- | ----- | ------------ |
| userType         | string | 用户类型描述 |
| suggestionPoints | array  | 建议要点列表 |
| sortOrder        | int    | 排序序号     |

## 错误码说明

| 错误码 | 描述         |
| ------ | ------------ |
| 200    | 成功         |
| 400    | 请求参数错误 |
| 404    | 工具不存在   |
| 500    | 服务器内部错误 |

## 调用示例

### 请求

```
GET /api/tool/detail/23
```

### 失败响应

```json
{ 
  "code": 404,
  "msg": "工具不存在",
  "data": null,
  "success": false,
  "timestamp": 1699627458901
}
```

## 数据库表结构

### 工具表

```sql
CREATE TABLE `levon_toolhub_tool` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '工具ID',
  `name` varchar(100) NOT NULL COMMENT '工具名称',
  `category_id` tinyint NOT NULL COMMENT '主分类id',
  `subcategory_id` bigint NOT NULL COMMENT '子分类ID',
  `logo` varchar(255) DEFAULT NULL COMMENT '工具图标URL',
  `website_url` varchar(255) NOT NULL COMMENT '官网URL',
  `short_description` varchar(200) NOT NULL COMMENT '简短描述',
  `full_description` text COMMENT '完整描述',
  `price_type` tinyint(1) NOT NULL COMMENT '价格类型: 1.免费 2.付费 3.部分免费',
  `platforms` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '平台编码JSON数组[1,3,4,5]：1=Web,2=Desktop,3=iOS,4=Android,5=Linux,6=Mac,7=Windows',
  `is_new` tinyint(1) DEFAULT '0' COMMENT '是否新上线: 0.否 1.是',
  `developer` varchar(100) DEFAULT NULL COMMENT '开发者/公司名称',
  `developer_info` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '开发者/公司信息',
  `developer_url` varchar(255) DEFAULT NULL COMMENT '开发者/公司官网URL',
  `view_count` bigint DEFAULT '0' COMMENT '查看次数',
  `favorite_count` bigint DEFAULT '0' COMMENT '收藏次数',
  `heat` int DEFAULT '0' COMMENT '热度值',
  `heat_desc` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT '热度描述，用于前端展示，如"25.6k热度"、"火热"、"热门"、"一般"',
  `heat_level` tinyint DEFAULT '1' COMMENT '热度等级 \n1: 一般  (heat < 1000)\n2: 热门  (heat >= 1000)\n3: 火热  (heat >= 10000)\n4: 爆火  (heat >= 100000)\n',
  `status` tinyint(1) DEFAULT '1' COMMENT '状态: 0.下架 1.上架',
  `core_features` text COMMENT '核心特点JSON字符串，格式: [{"title":"自然语言对话","feature_group":1,"sort_order":1}]',
  `use_cases` text COMMENT '应用场景JSON字符串，格式: [{"title":"学习辅助与解答","sort_order":1}]',
  `tech_specs` text COMMENT '技术规格JSON字符串，格式: [{"spec_name":"API访问","spec_value":"可通过OpenAI API接入","sort_order":1}]',
  `purchase_suggestions` text COMMENT '购买建议JSON字符串，格式: [{"user_type":"适用免费版用户","suggestion_points":["不需要高级功能","主要用于简单问答"],"sort_order":1}]',
  `create_id` bigint NOT NULL COMMENT '创建人id',
  `update_id` bigint DEFAULT NULL COMMENT '更新人id',
  `create_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `is_delete` tinyint(1) DEFAULT '0' COMMENT '是否删除, 0.否 1.是',
  PRIMARY KEY (`id`),
  KEY `idx_subcategory_id` (`subcategory_id`),
  KEY `idx_price_type` (`price_type`),
  KEY `idx_status` (`status`),
  KEY `idx_heat` (`heat` DESC)
) ENGINE=InnoDB AUTO_INCREMENT=110 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='工具表';
```

### 工具价格计划表

```sql
CREATE TABLE `levon_toolhub_tool_price_plan` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '计划ID',
  `tool_id` bigint NOT NULL COMMENT '工具ID',
  `plan_name` varchar(50) NOT NULL COMMENT '计划名称（如免费版、Plus版）',
  `plan_code` varchar(20) NOT NULL COMMENT '计划代码：free/plus/enterprise',
  `price` decimal(10,2) DEFAULT NULL COMMENT '价格金额',
  `price_period` tinyint(1) DEFAULT NULL COMMENT '价格周期: 1.一次性 2.月付 3.年付 4.自定义',
  `custom_period` varchar(50) DEFAULT NULL COMMENT '自定义周期描述',
  `description` varchar(255) DEFAULT NULL COMMENT '版本描述',
  `features` text COMMENT '功能特性JSON字符串，格式: [{"feature_title":"基本对话功能","feature_description":"支持常规文本对话","is_included":1,"sort_order":1},{"feature_title":"高峰期优先使用权","feature_description":"高峰期无需排队","is_included":1,"sort_order":2}]',
  `sort_order` int DEFAULT '0' COMMENT '排序序号',
  `create_id` bigint NOT NULL COMMENT '创建人id',
  `update_id` bigint DEFAULT NULL COMMENT '更新人id',
  `create_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `is_delete` tinyint(1) DEFAULT '0' COMMENT '是否删除, 0.否 1.是',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_tool_plan` (`tool_id`,`plan_code`),
  KEY `idx_tool_id` (`tool_id`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='工具价格计划表';
```

### 工具价格计划对比表

```sql
CREATE TABLE `levon_toolhub_tool_price_plan_comparison` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '对比ID',
  `tool_id` bigint NOT NULL COMMENT '工具ID',
  `comparisons` text NOT NULL COMMENT '价格计划对比JSON字符串，格式: [{"comparison_item":"模型访问","free_value":"仅GPT-3.5","paid_value":"GPT-3.5和GPT-4","enterprise_value":"自定义模型","sort_order":1},{"comparison_item":"响应速度","free_value":"标准","paid_value":"更快（优先处理）","enterprise_value":"最高优先级","sort_order":2}]',
  `create_id` bigint NOT NULL COMMENT '创建人id',
  `update_id` bigint DEFAULT NULL COMMENT '更新人id',
  `create_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `is_delete` tinyint(1) DEFAULT '0' COMMENT '是否删除, 0.否 1.是',
  PRIMARY KEY (`id`),
  UNIQUE KEY `idx_tool_id` (`tool_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='工具价格计划对比表';
``` 